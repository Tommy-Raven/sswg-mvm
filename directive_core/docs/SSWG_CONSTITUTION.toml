# ============================================================
# SSWG CONSTITUTION — AUTHORITATIVE GOVERNANCE
# ============================================================

[anchor]
anchor_id = "sswg_constitution"
anchor_model = "sswg+mvm+version"
anchor_version = "1.0.0"
scope = "directive_core/docs"
status = "invariant"
output_mode = "non_operational_output"

owner = [
  "2025© Raven Recordings",
  "Tommy Raven (Thomas Byers)"
]

init_purpose = "Define the canonical constitutional authority governing all SSWG/MVM governance, validation, and enforcement."
init_authors = ["Tommy Raven"]

# ------------------------------------------------------------
# SECTION 1 — PURPOSE AND SUPREMACY
# ------------------------------------------------------------

[constitution.purpose]
supreme_authority = true
override_allowed = false
interpretation_allowed = false

description = """
This Constitution is the highest-order normative authority within SSWG/MVM.
All governance documents, schemas, validators, agents, and enforcement
mechanisms SHALL conform to it.
"""

# ------------------------------------------------------------
# SECTION 2 — GOVERNANCE SCOPE
# ------------------------------------------------------------

[constitution.scope]
governs = [
  "directive_definitions",
  "governance_documents",
  "validators",
  "ingestion_logic",
  "audit_artifacts"
]

excludes = [
  "application_logic",
  "business_logic",
  "runtime_execution"
]

# ------------------------------------------------------------
# SECTION 3 — GOVERNANCE INGESTION ORDER (MANDATORY)
# ------------------------------------------------------------

[constitution.ingestion]
enforced = true
fail_on_missing = true
fail_on_duplicate = true
fail_on_reorder = true

required_sequence = [
  "TERMINOLOGY",
  "AGENTS",
  "SSWG_CONSTITUTION",
  "FORMAT_BOUNDARY_CONTRACT",
  "ARCHITECTURE",
  "FORMAL_GUARANTEES",
  "REFERENCES"
]

# ------------------------------------------------------------
# SECTION 4 — LEDGER FORMAT INVARIANT
# ------------------------------------------------------------

[constitution.ledger_format]
authoritative_format = "toml"
human_expression_format = "yaml"
machine_truth_format = "json"

markdown_authority = false
yaml_authority = false
json_authority = true

description = """
Authoritative governance SHALL exist only in pure TOML.
Markdown and YAML are non-authoritative and SHALL NOT carry invariants.
"""

# ------------------------------------------------------------
# SECTION 5 — CANONICAL HEADER INVARIANT
# ------------------------------------------------------------

[constitution.canonical_header]
required = true
format = "toml"
table_name = "anchor"
allow_multiple = false
allow_yaml_fences = false
allow_markdown_fences = false

failure_label = "Invalid Canonical Header"

# ------------------------------------------------------------
# SECTION 6 — SEMANTIC AMBIGUITY DOCTRINE
# ------------------------------------------------------------

[constitution.semantic_ambiguity]
classification = "security_vulnerability"
enabled = true

waivers_allowed = false
interpretation_allowed = false
repair_allowed = false

public_failure_label = "Semantic Ambiguity"

# ------------------------------------------------------------
# SECTION 7 — AMBIGUITY GATE ENFORCEMENT
# ------------------------------------------------------------

[constitution.semantic_ambiguity.gate]
execution_required = true
execution_stage = "pre_ingestion"
match_mode = "any"
action_on_match = "reject"
fail_closed = true

expose_rule_ids = false
expose_pattern_names = false
expose_regex = false

# ------------------------------------------------------------
# SECTION 8 — FAILURE SEMANTICS
# ------------------------------------------------------------

[constitution.failure]
halt_ingestion = true
quarantine_artifact = true
log_internal_details = true
user_visible_details = "generic"

# ------------------------------------------------------------
# SECTION 9 — PROHIBITED LANGUAGE CONSTRUCTS
# ------------------------------------------------------------

[constitution.prohibited_language]
examples = [
  "allow unless explicitly waived",
  "may be interpreted as",
  "depending on context",
  "reasonable interpretation",
  "except in this case",
  "under special circumstances"
]

# ------------------------------------------------------------
# SECTION 10 — VALIDATOR BINDING
# ------------------------------------------------------------

[constitution.validator_binding]
mandatory = true
bypass_allowed = false
fallback_allowed = false
interpretive_recovery = false

# ------------------------------------------------------------
# END OF CONSTITUTION
# ------------------------------------------------------------
