{
  "$schema": "https://github.com/Tommy-Raven/SSWG-mvm1.0/tree/main/schemas/workflow_schema.json",
  "$id": "https://github.com/Tommy-Raven/SSWG-mvm1.0/tree/main/data/templates/campfire_workflow.json",
  "workflow_id": "campfire_workflow",
  "version": "0.1.0",
  "schema_version": "1.0.0",
  "metadata": {
    "title": "Build a safe campfire",
    "description": "Step-by-step workflow to build a small, safe campfire for cooking and warmth.",
    "author": "Tommy",
    "created_at": "2025-12-03T00:00:00Z",
    "domain": "outdoor_survival",
    "tags": ["campfire", "outdoors", "safety"]
  },
  "phases": [
    { "phase_id": "phase_1", "name": "Preparation", "description": "Select location, collect permits, check fire danger, gather materials" },
    { "phase_id": "phase_2", "name": "Construction", "description": "Lay tinder, kindling, fuel wood; form fire structure" },
    { "phase_id": "phase_3", "name": "Ignition & Management", "description": "Ignite, maintain, and manage burn" },
    { "phase_id": "phase_4", "name": "Extinguish & Leave No Trace", "description": "Douse and clean site" }
  ],
  "modules": [
    {
      "module_id": "m01_location_check",
      "phase_id": "phase_1",
      "name": "Location & Permits",
      "inputs": [],
      "outputs": ["site_approved"],
      "dependencies": [],
      "ai_logic": "Check local regulations, assess proximity to vegetation, evaluate wind conditions.",
      "human_actionable": "Inspect site. If no local ban and a 10 ft cleared area exists, mark site_approved = true."
    },
    {
      "module_id": "m02_materials_gather",
      "phase_id": "phase_1",
      "name": "Gather materials",
      "inputs": [],
      "outputs": ["tinder_set","kindling_set","fuelwood_set"],
      "dependencies": ["m01_location_check"],
      "ai_logic": "List locally available tinder, kindling, and fuelwood types and quantities.",
      "human_actionable": "Collect dry tinder (leaves, birch bark), kindling (small sticks), and fuel wood (split logs)."
    },
    {
      "module_id": "m03_build_structure",
      "phase_id": "phase_2",
      "name": "Build fire structure",
      "inputs": ["tinder_set","kindling_set"],
      "outputs": ["structure_ready"],
      "dependencies": ["m02_materials_gather"],
      "ai_logic": "Recommend a structure (teepee, log cabin) based on available materials.",
      "human_actionable": "Construct a small teepee of kindling over tinder, leaving airflow paths."
    },
    {
      "module_id": "m04_ignite",
      "phase_id": "phase_3",
      "name": "Ignition",
      "inputs": ["structure_ready"],
      "outputs": ["fire_lit"],
      "dependencies": ["m03_build_structure"],
      "ai_logic": "Provide step sequence for safe ignition (sparks, matches, lighter), monitor smoldering risk.",
      "human_actionable": "Ignite tinder carefully; feed small kindling until sustained flame."
    },
    {
      "module_id": "m05_manage",
      "phase_id": "phase_3",
      "name": "Manage burn",
      "inputs": ["fire_lit"],
      "outputs": ["burn_controlled"],
      "dependencies": ["m04_ignite"],
      "ai_logic": "Advise on safe adding of fuel wood, monitor wind changes, advise extinguishing if unsafe.",
      "human_actionable": "Add fuel wood gradually, maintain a small, controlled flame."
    },
    {
      "module_id": "m06_extinguish",
      "phase_id": "phase_4",
      "name": "Extinguish",
      "inputs": ["burn_controlled"],
      "outputs": ["site_clean"],
      "dependencies": ["m05_manage"],
      "ai_logic": "Provide steps to fully extinguish (soak, stir, feel for heat) and restore site.",
      "human_actionable": "Douse with water, stir ashes, ensure cold-to-touch, scatter cooled rocks, fill any holes."
    }
  ],
  "outputs": ["site_clean", "process_log.json"],
  "evaluation": {
    "clarity": null,
    "coverage": null,
    "feasibility": null,
    "alignment": null,
    "notes": []
  },
  "recursion": {
    "max_iterations": 2,
    "auto_refine": true,
    "require_human_approval": false
  }
}
